# Generated Berry code from Animation DSL
# Source: test_template_simple_reusable.anim
# 
# This file was automatically generated by compile_all_examples.sh
# Do not edit manually - changes will be overwritten

import animation

# Test template functionality
# Define a simple template
# Template function: pulse_effect
def pulse_effect_template(engine, base_color_, duration_, brightness_)
  var pulse_ = animation.pulsating_animation(engine)
  pulse_.color = base_color_
  pulse_.period = duration_
  pulse_.opacity = brightness_
  engine.add(pulse_)
end

animation.register_user_function('pulse_effect', pulse_effect_template)

# Use the template - templates add animations directly to engine and run them
# Auto-generated strip initialization (using Tasmota configuration)
var engine = animation.init_strip()

pulse_effect_template(engine, 0xFFFF0000, 2000, 204)
engine.run()


#- Original DSL source:
# Test template functionality

# Define a simple template
template pulse_effect {
  param base_color type color
  param duration
  param brightness
  
  animation pulse = pulsating_animation(
    color=base_color
    period=duration
  )
  pulse.opacity = brightness
  
  run pulse
}

# Use the template - templates add animations directly to engine and run them
pulse_effect(red, 2s, 80%)
-#
