# Cylon Red Eye
# Automatically adapts to the length of the strip

template animation cylon {
  param eye_color type color
  param back_color type color
  param period type time
  
  set strip_len = strip_length()

  animation eye_animation = beacon_animation(
    color = eye_color
    back_color = back_color
    pos = cosine_osc(min_value = -1, max_value = strip_len - 2, duration = period)
    beacon_size = 3       # small 3 pixels eye
    slew_size = 2         # with 2 pixel shading around
    priority = 5
  )

  run eye_animation
}

animation cylon_red = cylon(eye_color = red, back_color = transparent, period = 3s)
run cylon_red
