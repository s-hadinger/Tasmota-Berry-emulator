# @desc Rainbow gradient with 2 repetitions across the strip


# Define a smooth palette using PALETTE_RAINBOW_W (7 colors + white)
# 'period = 0' means that the colors don't change in time, only spatial change
color rainbow_rich_color = rich_palette(colors=PALETTE_RAINBOW_W, period=0)

# Because strip_length is dynamic, we need to map it to a variable and can't use the function directly in formulas
set strip_len = strip_length()

# define a gradient across the whole strip
animation back_pattern = palette_gradient_animation(color_source = rainbow_rich_color,
                                                    spatial_period = strip_len / 2)
run back_pattern