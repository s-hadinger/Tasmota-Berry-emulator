# @desc VU-meter style animation with green-yellow-red gradient with sawtooth level

# Define a palette of rainbow colors including white with constant brightness
palette vue_meter_palette = [
  (  0, 0x00FF00)     # Green
  (143, 0x00FF00)

  (164, 0xFFFF00)     # Yellow
  (207, 0xFFFF00)

  (228, 0xFF0000)     # Red
  (255, 0xFF0000)
]

# Define a color palette pattern for 'vue_meter_palette'
color rainbow_rich_color = rich_palette(colors=vue_meter_palette, period=0, transition_type=LINEAR)

# Define a sawtooth value from 0% to 100%
set level = sawtooth(min_value = 0%, max_value=100%, duration = 2s)

# Define a vue-meter based on all elements above
animation back = palette_meter_animation(color_source = rainbow_rich_color, level = level)
run back